/*! bandjo - v1.0.0 - 06-21-2016 */"use strict";function GetUserCtrl(a,b,c){c.id?b.get("/api/user?id="+c.id).then(function(b){a.results=b.data},function(a){}):b.get("/api/user?url="+c.link).then(function(b){a.results=b.data},function(a){})}function EditUserCtrl(a,b){$cookies.get("userID");b.get("/api/user?id=5734a889181538fe31b86227").then(function(b){a.results=b.data},function(a){})}function LoginCtrl(a,b,c,d){a.logout=function(){c.get("/api/logout/").then(function(a){b.loggedIn=!1,d.path("/")},function(a){})},a.login=function(){c.post("/api/login/",{email:a.email,password:a.password}).then(function(c){"0"==c.data?(a.errMsg=!0,a.password=""):(b.loggedIn=!0,d.path("/profile/"+c.data._id))},function(a){})},a.goHome=function(){d.path("/")}}function GetUserCtrl(a,b,c){c.id?b.get("/api/user?id="+c.id).then(function(b){a.results=b.data},function(a){}):b.get("/api/user?url="+c.link).then(function(b){a.results=b.data},function(a){})}function EditUserCtrl(a,b){$cookies.get("userID"),b.get("/api/user?id=5734a889181538fe31b86227").then(function(b){a.results=b.data},function(a){})}function LoginCtrl(a,b,c,d){a.logout=function(){c.get("/api/logout/").then(function(a){b.loggedIn=!1,d.path("/")},function(a){})},a.login=function(){c.post("/api/login/",{email:a.email,password:a.password}).then(function(c){"0"==c.data?(a.errMsg=!0,a.password=""):(b.loggedIn=!0,d.path("/profile/"+c.data._id))},function(a){})},a.goHome=function(){d.path("/")}}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results="test"}function IndexCtrl(a,b){a.results={email:"blakeboucher@gmail.com",password:"077f4ee18a22bf7f3847f0cfa5e9e8cd615f7544",firstName:"Blake",lastName:"Boucher",joinDate:ISODate("2016-04-09T15:43:53.991Z"),address:{street:"2928 N Elston Ave",apt:"Unit 2",city:"Chicago",state:"IL",zip:"60618"},location:{lat:41.9344717,"long":-87.693691},link:"blakeboucher",photo:"http://blakeboucher.com/wordpress/wp-content/uploads/2015/08/blake.png",soundcloud:"https://soundcloud.com/blakeboucher",instruments:[{name:"piano",skill:"expert",years:15},{name:"vocals",skill:"intermediate",years:6},{name:"drums",skill:"novice",years:4}],genres:["pop","easy listening"],influences:["Ben Folds","John Mayer","Sufjan Stevens","MuteMath","Father John Misty"]}}function IndexCtrl(a,b){a.results={email:"blakeboucher@gmail.com",password:"077f4ee18a22bf7f3847f0cfa5e9e8cd615f7544",firstName:"Blake",lastName:"Boucher",joinDate:ISODate("2016-04-09T15:43:53.991Z"),address:{street:"2928 N Elston Ave",apt:"Unit 2",city:"Chicago",state:"IL",zip:"60618"},location:{lat:41.9344717,"long":-87.693691},link:"blakeboucher",photo:"http://blakeboucher.com/wordpress/wp-content/uploads/2015/08/blake.png",soundcloud:"https://soundcloud.com/blakeboucher",instruments:[{name:"piano",skill:"expert",years:15},{name:"vocals",skill:"intermediate",years:6},{name:"drums",skill:"novice",years:4}],genres:["pop","easy listening"],influences:["Ben Folds","John Mayer","Sufjan Stevens","MuteMath","Father John Misty"]}}function IndexCtrl(a,b){a.results={email:"blakeboucher@gmail.com",password:"077f4ee18a22bf7f3847f0cfa5e9e8cd615f7544",firstName:"Blake",lastName:"Boucher",joinDate:ISODate("2016-04-09T15:43:53.991Z"),address:{street:"2928 N Elston Ave",apt:"Unit 2",city:"Chicago",state:"IL",zip:"60618"},location:{lat:41.9344717,"long":-87.693691},link:"blakeboucher",photo:"http://blakeboucher.com/wordpress/wp-content/uploads/2015/08/blake.png",soundcloud:"https://soundcloud.com/blakeboucher",instruments:[{name:"piano",skill:"expert",years:15},{name:"vocals",skill:"intermediate",years:6},{name:"drums",skill:"novice",years:4}],genres:["pop","easy listening"],influences:["Ben Folds","John Mayer","Sufjan Stevens","MuteMath","Father John Misty"]}}function AddPostCtrl(a,b,c){a.form={},a.submitPost=function(){b.post("/api/post",a.form).success(function(a){c.path("/")})}}function ReadPostCtrl(a,b,c){b.get("/api/post/"+c.id).success(function(b){a.post=b.post})}function EditPostCtrl(a,b,c,d){a.form={},b.get("/api/post/"+d.id).success(function(b){a.form=b.post}),a.editPost=function(){b.put("/api/post/"+d.id,a.form).success(function(a){c.url("/readPost/"+d.id)})}}function DeletePostCtrl(a,b,c,d){b.get("/api/post/"+d.id).success(function(b){a.post=b.post}),a.deletePost=function(){b["delete"]("/api/post/"+d.id).success(function(a){c.url("/")})},a.home=function(){c.url("/")}}function IndexCtrl(a,b){b.get("/api/posts").success(function(b,c,d,e){a.posts=b.posts})}function AddPostCtrl(a,b,c){a.form={},a.submitPost=function(){b.post("/api/post",a.form).success(function(a){c.path("/")})}}function ReadPostCtrl(a,b,c){b.get("/api/post/"+c.id).success(function(b){a.post=b.post})}function EditPostCtrl(a,b,c,d){a.form={},b.get("/api/post/"+d.id).success(function(b){a.form=b.post}),a.editPost=function(){b.put("/api/post/"+d.id,a.form).success(function(a){c.url("/readPost/"+d.id)})}}function DeletePostCtrl(a,b,c,d){b.get("/api/post/"+d.id).success(function(b){a.post=b.post}),a.deletePost=function(){b["delete"]("/api/post/"+d.id).success(function(a){c.url("/")})},a.home=function(){c.url("/")}}function IndexCtrl(a,b){b.get("/api/posts").success(function(b,c,d,e){a.posts=b.posts})}function AddPostCtrl(a,b,c){a.form={},a.submitPost=function(){b.post("/api/post",a.form).success(function(a){c.path("/")})}}function ReadPostCtrl(a,b,c){b.get("/api/post/"+c.id).success(function(b){a.post=b.post})}function EditPostCtrl(a,b,c,d){a.form={},b.get("/api/post/"+d.id).success(function(b){a.form=b.post}),a.editPost=function(){b.put("/api/post/"+d.id,a.form).success(function(a){c.url("/readPost/"+d.id)})}}function DeletePostCtrl(a,b,c,d){b.get("/api/post/"+d.id).success(function(b){a.post=b.post}),a.deletePost=function(){b["delete"]("/api/post/"+d.id).success(function(a){c.url("/")})},a.home=function(){c.url("/")}}function IndexCtrl(a,b){b.get("/api/posts").success(function(b,c,d,e){a.posts=b.posts})}function AddPostCtrl(a,b,c){a.form={},a.submitPost=function(){b.post("/api/post",a.form).success(function(a){c.path("/")})}}function ReadPostCtrl(a,b,c){b.get("/api/post/"+c.id).success(function(b){a.post=b.post})}function EditPostCtrl(a,b,c,d){a.form={},b.get("/api/post/"+d.id).success(function(b){a.form=b.post}),a.editPost=function(){b.put("/api/post/"+d.id,a.form).success(function(a){c.url("/readPost/"+d.id)})}}function DeletePostCtrl(a,b,c,d){b.get("/api/post/"+d.id).success(function(b){a.post=b.post}),a.deletePost=function(){b["delete"]("/api/post/"+d.id).success(function(a){c.url("/")})},a.home=function(){c.url("/")}}var ObjectId=require("mongodb").ObjectId;module.exports.manualLogin=function(a,b,c,d){var e,f=0,g="",h=a.collection("users").find({email:b},{password:1});h.forEach(function(a){g=a.password,e=a._id,f++},function(a){console.log("There were "+f+" matches."),1==f?(console.log("Found one user with that email."),c==g?(console.log("Successfully logged in "+b+"."),d("success",e)):(console.log("Password was incorrect"),d("password",0))):0===f?(console.log("No user found with that email."),d("email",0)):(console.log("Multiple emails found."),d("multi",0))})},module.exports.autoLogin=function(a,b,c){},module.exports.getUser=function(a,b,c){a.collection("users").findOne({_id:new ObjectId(b)},function(d,e){d?a.collection("users").findOne({email:b},function(a,b){c(a,b)}):c(d,e)})},module.exports.createUser=function(a,b,c){a.collection("users").insertOne(b,function(a,b){b=null,a="yo",c(a,b)})};var ObjectId=require("mongodb").ObjectId;module.exports.manualLogin=function(a,b,c,d){var e,f=0,g="",h=a.collection("users").find({email:b},{password:1});h.forEach(function(a){g=a.password,e=a._id,f++},function(a){console.log("There were "+f+" matches."),1==f?(console.log("Found one user with that email."),c==g?(console.log("Successfully logged in "+b+"."),d("success",e)):(console.log("Password was incorrect"),d("password",0))):0===f?(console.log("No user found with that email."),d("email",0)):(console.log("Multiple emails found."),d("multi",0))})},module.exports.autoLogin=function(a,b,c){},module.exports.getUser=function(a,b,c){a.collection("users").findOne({_id:new ObjectId(b)},function(d,e){d?a.collection("users").findOne({email:b},function(a,b){c(a,b)}):c(d,e)})},module.exports.createUser=function(a,b,c){a.collection("users").insertOne(b,function(a,b){b=null,a="yo",c(a,b)})};